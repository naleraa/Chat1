<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>WhatsApp</title>

    <link rel="stylesheet" href="style.css" />

    <link rel="shortcut icon" href="data:image/jpeg;base64,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" type="image/x-icon">
  </head>
  <body>
   
      <div class="celular">
        <div class="cabecalho">
          <div class="fotoPerfil">
            <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSD1WT7WHNauEuYCyQRcRsyHbtv3Z_sceJq-g&usqp=CAU" alt="">
          </div>
          <div class="nome">
            <h3>WhatsApp</h3>
          </div>
          <div class="icones">
            <a href="" style="color: antiquewhite;"><ion-icon name="camera-outline"></ion-icon></a>
           <a href="" style="color: aliceblue;"><ion-icon name="search-outline"></ion-icon></a>
          </div>
        </div>
        <br><br>
      <div>
        <ul id="mensagens"></ul>
      </div>

      <div class="paraEnviar">
        <form>
          <input type="text" id="nome" placeholder="Nome de usuário"/> <br><br>
          <input type="text" id="mensagem" placeholder="Mensagem"/><br><br>
          <button>ENVIAR</button>
        </form>
      </div>
    

    
    <script src="/socket.io/socket.io.js"></script>
    <script>

        //sorteio
        function getRandomInt(min, max) {
            return Math.floor(Math.random() * (max - min + 1)) + min;
        }
        var idSorteio = getRandomInt(1, 10000);

        console.log(idSorteio)

      //Criar uma instancia do socket.io
          const socket = io();
          //Seleciona o valor do input nome de usuário
                const nomeInput = document.getElementById('nome');
                document.querySelector('form').addEventListener('submit', event => {
                    //Padrão de envios
                    event.preventDefault();

                    const nome = nomeInput.value;
                    const mensagem = mensagemInput.value;

                    //Verificar se os valores estão branco
                    if (nome.trim() && mensagem.trim()) {
                        socket.emit('chat message', { nome, mensagem,idSorteio });
                          //Limpar o input da mensagem
                          mensagemInput.value = '';
                          //Oculta o input do usuário
                          nomeInput.style.display = 'none';
                      }
                  });

                  //Seleciona o valor do input da mensagem
                  const mensagemInput = document.getElementById('mensagem');
                  //Seleciona a lista de mensagens
                  const mensagens = document.getElementById('mensagens');

                  //Evento de envio do formulário
                  document.querySelector('form').addEventListener('submit', event => {
                      //Padrão de envios
                      event.preventDefault();

                      const nome = nomeInput.value;
                      const mensagem = mensagemInput.value;

                      //Verificar se os valores estão branco
                      nome.trim() && mensagem.trim() && socket.emit('chat message', {nome, mensagem});
                      //Limpar o input da mensagem
                      mensagemInput.value = '';
                      //Desabilita o input do usuário
                      nomeInput.disabled = true;
                  });

                  socket.on('chat message', dados => {
    // Criar um elemento de lista para exibir a mensagem
    const lista = document.createElement('li');
    // Define o texto da mensagem
    lista.textContent = `${dados.nome}: ${dados.mensagem}`;

    // Verifica se a mensagem foi enviada ou recebida
    if (idSorteio === dados.idSorteio) {
        // Se for enviada, aplica a classe 'enviada'
        lista.className = 'enviada';
    } else {
        // Se for recebida, aplica a classe 'recebida'
        lista.className = 'recebida';
    }

    // Adiciona o elemento de lista de mensagem
    mensagens.appendChild(lista);
});
    </script>

  </body>
</html>
